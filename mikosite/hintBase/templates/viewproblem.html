{% load static %}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'viewproblemStyle.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>
    <script src ="{% static 'viewproblemScript.js' %}"></script>
    <title>View Problem</title>
</head>
<body>
    <h1>Problem Details</h1>
    <div>
        <strong>Problem ID:</strong> {{ problem.problem_id }}<br>
        <strong>Author:</strong> 
        {% if proben.author != "" %} 
        {{ problem.author.username }}
        {% endif %}
        <br>
        <strong>Source:</strong> {{ problem.source }}<br>
        <strong>Difficulty:</strong> {{ problem.difficulty }}<br>
        <p><strong>Genre:</strong> 
            {% for tag_name in problem.tags.names %}
                <span>{{ tag_name }},</span>
            {% endfor %}
        </p>
        {% if problem.image %}
            <img src="{{ problem.image.url }}" alt="Problem Image">
        {% endif %}
    </div>
    <div>
        <strong>LaTeX Code:</strong><br>
        <div id="latex-container">
            {{ problem.latex_code }}
        </div>
    </div>

    {% if user.is_authenticated %}
    <a href="./add_solution">Dodaj rozwiązanie</a>
        {% endif %}
    

    <div>
    {% for hintIntance in hinty %}
        <p> Autor rozwiązania/(rozwiązanie dodał):{{ hintIntance.author.username }} </p>
        
        <p> Podpowiedźi: </p>
        {% with hintIntance.hints|linebreaks as splittedhints %}
            <label>{{ splittedhints }}</label>
        {% endwith %}

        <p> Pełne rozwiązanie: </p>
        <label> {{hintIntance.latex_solution }} </label>


    
    {% endfor %}
    </div>


</body>
</html>
 